### 2023.3.22
# 本周进展
## 1.窃听场景建模
在原有的OTFS调制代码基础上，增加窃听信道，窃听信道参数暂时设置和主信道参数获取方式一致，其中每个信道参数还是随机产生。
```
eve_chan_coef = sqrt(pow_prof).*(sqrt(1/2)*(randn(1,eve_taps)+1i*randn(1,eve_taps)));     %信道系数
```
窃听信道和主信道都是多径传输，因此通过for循环得到最后的接收信号。窃听信道处撰写的函数只需要返回SNR以计算保密率
```
function rge = OTFS_output_eve(N,M,eve_taps,eve_delay_taps,eve_Doppler_taps,eve_chan_coef,sigma_2,s)
L = max(eve_delay_taps);          %通过确定时延判断需要加入的循环前缀编码长度来消除ISI
s = [s(N*M-L+1:N*M);s];       %引入循环前缀编码，将发射信号的后缀复制到前面               
eve_chan = 0;          %考虑到多径传输，将有效信息初始化
for itao = 1:eve_taps
    eve_chan = eve_chan+eve_chan_coef(itao)*circshift([s.*exp(1j*2*pi/M *(-L:-L+length(s)-1)*eve_Doppler_taps(itao)/N).';zeros(eve_delay_taps(end),1)],eve_delay_taps(itao));   %多个信道有效信息之和
end
noise = sqrt(sigma_2/2)*(randn(size(eve_chan)) + 1i*randn(size(eve_chan)));
rge = (eve_chan'*eve_chan)/(noise'*noise);   %窃听信道SNR
end
```
由于窃听信道参数和主信道没有太大区别，并且信道增益都是随机生成，因此最后保密速率大于0合格的比例占50%。

接下来考虑将主信道和窃听信道都改用莱斯信道模型.莱斯信道模型参考了尹老师的论文：DT-Assisted Multi-point Symbiotic Security in Space-air-ground Integrated Networks

![image](./github/23.3.22-1.jpg)

其中的莱斯因子定义为直达信号与散射信号功率的比值，目前的想法是能否通过差异化主信道和窃听信道的莱斯因子来凸显其信道的差异性进而用安全编码实现安全传输。
## 2.毕设文献翻译工作
翻译的文献是Interference Cancellation and Iterative Detection for Orthogonal Time Frequency Space Modulation。目前完成了该论文中综述和对OTFS调制原理解释部分的翻译。

接下来要学习该论文中接收机部分中的消息传递算法的原理，同时完成剩下部分的文献翻译工作。

# 下周安排
## 1.将信道模型改为莱斯信道模型，查阅安全编码方式
## 2.学习消息传递算法，完成毕设参考文献翻译。

### 2023.3.29
# 本周进展
## 1.对OTFS技术原理进行整理：
OTFS调制过程可以分为发射机，信道传输，接收机三大部分。

### 1）基础

首先介绍基础的框架，其将时频域的时间轴和频率轴分别以单位T和单位Δf进行采样划分为网格；将延迟多普勒域的延迟轴和多普勒域轴分别以单位 $1/(MΔf)$ 和 $1/(NT)$ 为单位进行采样划分网格：

![image](./github/23.3.29-1.png)

时频域和延迟-多普勒域之间的转换通过SFFT和ISFFT来实现。SFFT和ISFFT具体在发射机和接收机中阐述。

### 2）发射机部分

发射机部分是逆辛有限傅里叶变换（ISFFT）和海森堡变换（Heisenberg transform）的组合。

-ISFFT公式：

![image](./github/23.3.29-2.png)

公式中xp[k,l]中的k和l代表了时延多普勒域网格中的横纵坐标，而Xp[n,m]代表了n和m代表了时频域网格中的横纵坐标。SFFT完成了从延迟多普勒域到时频域的转换。

-Heisenberg transform：

![image](./github/23.3.29-3.png)

海森堡变换将时频域上的二维信号映射到传输波形s(t)。

### 3）信道部分
信道传输部分需要了解信道系数的是如何来的。信道传输实际上也被视为一个海森堡变换：

-信道系数：

![image](./github/23.3.29-4.jpg)

信道系数实际上也是有时频域和延迟多普勒域两种表示。在延迟多普勒域中可以理解为，复基带多普勒变化脉冲响应ℎ𝑐 (𝜏,𝑣)代表具有延迟𝜏和多普勒频移v的信道对脉冲的响应。
这个地方也体现了时频域和延迟多普勒域的相互转换。

-信道传输：

![image](./github/23.3.29-5.jpg)

这个地方信道传输公式也是海森堡变换，因此此处和发射机的海森堡变换级联可以使用海森堡变换的扭曲卷积性质。

### 4）接收机部分
接收机部分是魏格纳变换（Wigner transform）和辛有限傅里叶变换（SFFT）的组合。

-Wigner transform

![image](./github/23.3.29-6.jpg)

魏格纳变换将接收信号r(t)映射回调制符号Y[n,m]

-SFFT transform

![image](./github/23.3.29-7.png)

SFFT将时频域的调制符号Xp[n,m]转换至延迟多普勒域中的xp[k,l],完成了时频域到延迟多普勒域的转换。

## 2.完成了毕设外文参考文献的翻译，根据本校老师的意见对开题报告进行了修改。

## 3.6G容量与覆盖双提升需求下的6G网络能效提升思路——许晓东（会议纪要）
许晓东教授从三个方面展开了容量与覆盖双提升需求下的6G网络能效提升思路
1. 6G场景和指标体系

   许晓东教授在这部分分享了6G场景和指标体系后主要提出了3个问题：
   
   1）为什么通信系统有容量限制，但是每代网络都还要提高十倍容量？
   
   2）终端和网络的关系？
   
   3）如何落实蜂窝这种形式？
   
2. 覆盖，容量，能量的关系

   许晓东教授简要讲述了三者之间的关系，相互限制。分享了6G覆盖常见的场景，6G速率的要求，覆盖存在的问题。
   
3. 如何在覆盖和容量限制下提高能效

   1）通信+计算的问题。如何将算力真正运用到实际中以降低网络能效。
   
   2）地面+卫星做全域覆盖。卫星空口受限制，考虑如何尽可能覆盖并降低由于加入卫星通信网络所带来的能量消耗。
   
   3）高铁+RIS。用RIS提高高铁的覆盖性能，提升其网络性能。
   
   4）网络如何支撑无蜂窝，支持更灵活的网络部署？考虑改变RAN侧的架构，以更灵活地去部署。重新设计网络结构，将算力融入进来，无线接入处设计更加灵活。

# 下周安排
## 1.学习MP算法
## 2.撰写阶段性报告
## 3.将OTFS技术PPT制作完成

### 2023.4.5
# 本周进展
## 理想波形下的OTFS

时频域分析完成了学习，根据论文基本推导出了此部分有关于多普勒间干扰的重点部分。

![image](./github/23.4.5-1.png)

从推导结果知晓了OTFS调制过程中的多普勒间干扰产生的原因。

## 矩形波形下的OTFS

时频域分析基础部分已经看懂，但ICI和ISI分析部分推导还有挺大的问题，需要继续学习。

下周在本周基础上尽快开始MP算法的推导。

### 2023.4.12
# 本周进展
## 1. 学习了MP算法，完成了论文所给出的MP算法迭代过程的推导

其迭代过程可以大致概括如下：

1）输入接收信号y和信道矩阵H，初始化其pmf，pcd(0)=1/Q;

接收符号和输入符号的关系可以表示如下：

![image](./github/23.4.12-1.png)

其中y称为观测节点，x称为变量节点。干扰项其实是将除了真正的输入符号x[c]，其他的x[e]和噪声的组合。

2) 利用接收信号y和信道矩阵H去计算干扰项的均值和方差

干扰项的均值和方差可以通过以下公式得到：

均值：![image](./github/23.4.12-2.png)

方差：![image](./github/23.4.12-3.png)

3）利用干扰项的均值和方差可以更新pcd(i)；

![image](./github/23.4.12-4.png)

4）此处更新的pcd要先用于收敛指标去判决此次迭代是否得到了更好的结果，通俗点理解就是有更多的x[c]使得pcd接近1

![image](./github/23.4.12-5.png)

而最后是否退出迭代也由这个收敛指标决定

-η=1，所有符号都能准确地对上，完全收敛；

-η<η*-e, 继续迭代反而使得收敛情况降低，停止迭代；

-设定的迭代次数完成，停止迭代。

## 2. MP算法程序已经看懂，存在少部分代码要再详细对照理解

## 3. 检测方法部分的调研

由于MP算法最后检测出来的误码率性能不是特别好，所以找了一些比较相关的论文，后续安全部分内容完成后可以参考。

![image](./github/23.4.12-6.png)

# 下周安排
## 调研OTFS系统中的安全编码方法





